var Supi=function(){function e(){this.cookieName="supi-status",this.allow=document.getElementById("supi:allow"),this.dismiss=document.getElementById("supi:dismiss"),this.choose=document.getElementById("supi:choose"),this.banner=document.getElementById("supi:banner"),this.addClickHandler(),1===parseInt(this.getCookie(this.cookieName))?this.injectJavaScripts():0===parseInt(this.getCookie(this.cookieName))||this.toggleBanner()}return e.prototype.addClickHandler=function(){var t=this;this.allow.addEventListener("click",function(e){e.preventDefault(),t.removeScripts(),!0===t.injectJavaScripts()&&(t.toggleBanner(),t.setCookie(t.cookieName,"1"))}),this.dismiss.addEventListener("click",function(e){e.preventDefault(),!0===t.removeScripts()&&(t.toggleBanner(),t.setCookie(t.cookieName,"0"))}),this.choose.addEventListener("click",function(e){e.preventDefault(),t.toggleBanner()})},e.prototype.injectJavaScripts=function(){for(var e=[],t=0,i=document.getElementsByTagName("script");t<i.length;t++){var o=i[t];"application/supi"===o.type&&e.push(o)}var n=document.createElement("script");return n.type="text/javascript",n.className="supi-scripts",e.forEach(function(e){n.innerHTML+=e.innerHTML}),document.head.appendChild(n),!0},e.prototype.toggleBanner=function(){this.banner.classList.toggle("hidden")},e.prototype.removeScripts=function(){for(var e=0,t=document.getElementsByClassName("supi-scripts");e<t.length;e++){var i=t[e];document.head.removeChild(i)}return this.deleteAllCookies(),!0},e.prototype.setCookie=function(e,t){var i=new Date,o=t;i.setTime(i.getTime()+6048e5),document.cookie=e+"="+o+"; expires="+i.toUTCString()+"; path=/"},e.prototype.getCookie=function(e){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()},e.prototype.deleteCookie=function(e){var t=new Date;t.setTime(t.getTime()+-864e5),document.cookie=e+"=; expires="+t.toUTCString()+"; path=/"},e.prototype.deleteAllCookies=function(){var e=document.cookie.split("; "),i=this;e.forEach(function(e){var t=e.split("=")[0];i.deleteCookie(t)})},e}();window.onload=function(){new Supi};
//# sourceMappingURL=Supi.min.js.map
