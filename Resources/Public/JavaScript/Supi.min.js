var Supi=function(){function e(){this.cookieName="supi-status",this.overlay=!1,this.allow=document.getElementById("supi:allow"),this.dismiss=document.getElementById("supi:dismiss"),this.choose=document.getElementById("supi:choose"),this.banner=document.getElementById("supi:overlay")?document.getElementById("supi:overlay"):document.getElementById("supi:banner"),this.overlay=!!document.getElementById("supi:overlay"),this.body=document.getElementsByTagName("body")[0],this.config=JSON.parse(document.getElementById("supi:script").getAttribute("data-supi-config")),this.lifetime=JSON.parse(document.getElementById("supi:script").getAttribute("data-supi-lifetime")),1===parseInt(this.getCookie(this.cookieName))?this.injectJavaScripts():0===parseInt(this.getCookie(this.cookieName))||this.toggleBanner(),this.addClickHandler()}return e.prototype.addClickHandler=function(){var t=this,i=this;this.allow.addEventListener("click",function(e){e.preventDefault(),i.removeScripts(),!0===i.injectJavaScripts()&&(i.toggleBanner(),i.setCookie(i.cookieName,"1"))}),this.dismiss.addEventListener("click",function(e){e.preventDefault(),!0===i.removeScripts()&&(i.toggleBanner(),i.setCookie(i.cookieName,"0"))}),this.choose&&this.choose.addEventListener("click",function(e){e.preventDefault(),t.toggleBanner()})},e.prototype.injectJavaScripts=function(){return[].slice.call(document.getElementsByTagName("script"),0).filter(function(e){return"application/supi"==e.type}).forEach(function(e){var t=document.createElement("script");t.type="text/javascript",t.className="supi-scripts",t.innerHTML=e.innerHTML,e.parentNode.replaceChild(t,e)}),!0},e.prototype.toggleBanner=function(){!0===this.overlay&&this.body.classList.toggle("overlay"),this.banner.classList.toggle("hide")},e.prototype.removeScripts=function(){return[].slice.call(document.getElementsByClassName("supi-scripts"),0).forEach(function(e){e.parentNode.removeChild(e)}),this.deleteAllCookies(),!0},e.prototype.setCookie=function(e,t){var i=new Date,o=t;"0"===t?i.setTime(i.getTime()+24*this.lifetime.dismiss*60*60*1e3):"1"===t?i.setTime(i.getTime()+24*this.lifetime.allow*60*60*1e3):i.setTime(i.getTime()+6048e5),document.cookie=e+"="+o+"; expires="+i.toUTCString()+"; path=/"},e.prototype.getCookie=function(e){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()},e.prototype.deleteCookie=function(e){var t=new Date;t.setTime(t.getTime()+-864e5),document.cookie=e+"=; expires="+t.toUTCString()+"; path=/"},e.prototype.deleteAllCookies=function(){var e=document.cookie.split("; "),i=this,o=this.config.essential.names.split(",");e.forEach(function(e){var t=e.split("=")[0];-1===o.indexOf(t)&&i.deleteCookie(t)})},e}();window.onload=function(){new Supi};
//# sourceMappingURL=Supi.min.js.map
